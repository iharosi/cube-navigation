(function(e,t){"use strict";var n=e.document,r=e.console||{},i="createTouch"in n,s={deltaX:0,originX:0,on:!1},o=n.getElementById("cube"),u=0;e.addEventListener("load",function(){r.log("LOG:","ready");if(i){n.addEventListener("touchmove",l,!1);n.addEventListener("touchstart",f,!1);n.addEventListener("touchend",c,!1)}else{n.addEventListener("mousemove",l,!1);n.addEventListener("mousedown",f,!1);n.addEventListener("mouseup",c,!1)}r.log("LOG:","events added")},!1);var a=function(){var e=/rotateY\((-?[0-9]+[.0-9]*)deg\)/,t=o.style.webkitTransform.match(e);u=parseFloat(t?t[1]:0);r.log("cubeYstate:",u)},f=function(e){s.originX=e.pageX;s.on=!0;o.style.webkitTransform="translateZ(-420px) rotateY( "+u+"deg )";o.style.webkitTransition="none"},l=function(e){if(s.on===!0){s.deltaX=e.pageX-s.originX;s.rotateYdeg=90/640*s.deltaX;o.style.webkitTransform="translateZ(-420px) rotateY( "+(u+s.rotateYdeg)+"deg )"}},c=function(){o.style.webkitTransition="all .3s cubic-bezier( 0,1.2,.75,1.5 )";s.rotateYdeg>30?o.style.webkitTransform="translateZ(-320px) rotateY( "+(u+90)+"deg )":s.rotateYdeg<-30?o.style.webkitTransform="translateZ(-320px) rotateY( "+(u-90)+"deg )":o.style.webkitTransform="translateZ(-320px) rotateY( "+u+"deg )";a();s={deltaX:0,originX:0,rotateYdeg:0,on:!1}}})(window);